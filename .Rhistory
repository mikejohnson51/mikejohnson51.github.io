select(year, col2) %>%
setNames(c("Awards and Fellowships", ""))
spelling::spell_check_files(c("ttt.Rmd"))
install.packages('spelling')
spelling::spell_check_files(c("ttt.Rmd"))
awards = read_excel(data_file, sheet = "awards")
awards_html <- awards %>%
mutate(
col2 = paste(text_spec(name, bold = TRUE), details, sep = " - ")
) %>% filter(type == "Awards and Fellowships") %>%
select(year, col2) %>%
setNames(c("Awards and Fellowships", ""))
knitr::opts_chunk$set(echo = FALSE, warning = FALSE)
library(dplyr)
library(knitr)
library(kableExtra)
library(readxl)
library(glue)
data_file <- "mikes-data.xlsx"
rmarkdown::render("ttt.Rmd", output_file = "docs/mike_johnson_cv.pdf")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE)
library(dplyr)
library(knitr)
library(kableExtra)
library(readxl)
library(glue)
data_file <- "mikes-data.xlsx"
#rmarkdown::render("ttt.Rmd", output_file = "docs/mike_johnson_cv.pdf")
create_table <- function(table = NULL, file_name = NULL, removeHeaders = TRUE, caption = NULL) {
table <- rbind(rep("", ncol(table)), table) %>%
kable(escape = FALSE, caption = caption, align = c("l")) %>%
kable_styling(bootstrap_options = c("hover"))
if (removeHeaders) {
table <- gsub("<thead>.*</thead>", "", table)
}
fileConn <- file(paste0('docs/', file_name))
writeLines(table, fileConn)
close(fileConn)
}
sass::sass(
sass::sass_file("docs/resources/scss/miketheme.scss"),
output = "docs/resources/css/bootstrap.css",
options = sass::sass_options(output_style = "nested")
)
awards = read_excel(data_file, sheet = "awards")
awards_html <- awards %>%
mutate(
col2 = paste(text_spec(name, bold = TRUE), details, sep = " - ")
) %>% filter(type == "Awards and Fellowships") %>%
select(year, col2) %>%
setNames(c("Awards and Fellowships", ""))
travel_html <- awards %>%
mutate(
col2 = paste(text_spec(name, bold = TRUE), details, sep = " - ")
)  %>% filter(type == "Travel Grants") %>%
select(year, col2) %>%
setNames(c("Travel Grants", ""))
create_table(table = travel_html,  file_name = 'travel_grants.html', removeHeaders = FALSE )
create_table(table = awards_html, file_name = 'awards.html', removeHeaders = FALSE)
grants = read_excel(data_file, sheet = "funded_research")
grants$amount = ifelse(is.na(grants$amount), "Not Disclosed", scales::dollar(grants$amount))
grants = read_excel(data_file, sheet = "funded_research") %>%
mutate(amount = ifelse(is.na(amount2) | amount2 == 0,
amount,
paste0(amount, " (Subaward: ", amount2, ")")))
grants_html <- grants %>% mutate(record = text_spec(grants$name, italic = TRUE),
amount = grants$amount,
role = text_spec(grants$role, bold = T),
source = grants$source) %>%
select(date, role, record, source, amount)  %>%
setNames(c('Year', rep("", nrow(grants)-1)))
create_table(table = grants_html,  file_name = 'funding.html', removeHeaders = FALSE)
presentations = read_excel(data_file, sheet = "presentations")
presentations_html <- presentations %>% filter(type == 'presentation') %>%
mutate(record = paste0(
'<i class="fas fa-microphone-alt"></i>', "  ",
text_spec(title, bold = T), ". ",
text_spec(location, italic = TRUE), ". ", data)) %>%
select("Presentation" = record)
posters_html <- presentations %>% filter(type != 'presentation') %>%
mutate(record = paste0(
'<i class="far fa-map"></i>', "  ",
text_spec(title, bold = F), ". ",
text_spec(location, italic = TRUE), ". ", data)) %>%
select('Poster' = record)
create_table(table = presentations_html, file_name = 'presentations.html', removeHeaders = FALSE)
create_table(table = posters_html, file_name = 'posters.html',  removeHeaders = FALSE)
teaching = read_excel(data_file, sheet = "teaching")
teaching <- teaching %>%
mutate(quarter = factor(quarter, levels = c("Fall", "Winter", "Spring", "Summer"),
ordered = T),
class_link = ifelse(is.na(link), class,
paste0('<a href="',link, '">', class, '</a>'))) %>%
group_by(type, class, class_link, quarter, professor, division) %>%
mutate(points = as.numeric(year) + as.numeric(quarter)/10) %>%
summarise(year = paste(year,collapse=', '),
points = max(points)) %>%
tidyr::unite(data, quarter, year, sep = " ") %>%
arrange(desc(points))
teaching_html <- teaching %>%
filter(type == "Instructor") %>%
mutate(
' ' = paste0(text_spec(class_link, bold = TRUE, escape = FALSE), "<br>",
division, " - ", text_spec(professor, italic = TRUE))) %>%
ungroup() %>%
select(data, ' ') %>%
rename('Instructor' = data)
teaching_assisstant_html <- teaching %>%
filter(type == "Teaching Assisstant") %>%
mutate(
' ' = paste0(text_spec(class_link, bold = TRUE, escape = FALSE), "<br>",
division, " - ", text_spec(professor, italic = TRUE))) %>%
ungroup() %>%
select(data, ' ') %>%
rename('Teaching Assistant' = data)
create_table(table = teaching_html, file_name = 'teaching.html', removeHeaders = FALSE)
create_table(table = teaching_assisstant_html, file_name = 'teaching-assisstant.html', removeHeaders = FALSE)
# Affiliations Table
affiliations = readxl::read_xlsx(data_file, sheet = "coauthors")
# Affiliations Map
require(leaflet)
require(htmltools)
library(dplyr)
authors  = lapply(paste("<strong>", affiliations$Name, "</strong><br>", gsub(";", "<br>", affiliations$people)),  htmltools::HTML)
# Generate Map
affiliation_map = leaflet(affiliations, options = leafletOptions(zoomControl = FALSE,
minZoom = 2, maxZoom = 2, dragging = FALSE)) %>%
addProviderTiles(providers$CartoDB.PositronNoLabels) %>%
addCircleMarkers(lng = ~as.numeric(Long), lat = ~as.numeric(Lat),
radius = ~lengths(strsplit(affiliations$people, ";"))*4,
color = ~ifelse(affiliations$Name == "UCSB Geography", "red", "navy"),
stroke = FALSE,
fillOpacity = 0.7,
label = authors,
labelOptions =  labelOptions(keepInView = TRUE, autoPan = FALSE,
style = list(
"box-shadow" = "9px 9px rgba(0,0,0,0.25)",
"border-color" = "navy",
"padding-right" = "10px",
"background-color" = "white")))
# Create HTML file
f<-paste0(getwd(), "/docs/affiliations_map.html")
htmlwidgets::saveWidget(affiliation_map,file.path(normalizePath(dirname(f)),basename(f)))
# Generate Footer
footer = paste0('<div class=" container">
<div class="row">
<div class="col-md-6">
<p>
Ellision Hall 1719<br />
University of California, Santa Barbara<br />
Santa Barbara, CA 93106<br />
</p>
</div>
<div class="col-md-6 text-right">
<a href="https://github.com/mikejohnson51" target="_blank" class="social-link"><i class="fab fa-github fa-2x grow"></i></a>
<a href="https://scholar.google.com/citations?hl=en&user=MrXM9cgAAAAJ&view_op=list_works&sortby=pubdate" target="_blank" class="social-link fa-2x"><i class="ai ai-google-scholar grow"></i></i></a>
<a href="https://www.researchgate.net/profile/Mike_Johnson29" target="_blank" class="social-link fa-2x"><i class="ai ai-researchgate grow"></i></a>
<a href="mailto:mike.johnson@geog.ucsb.edu" target="_blank" class="social-link fa-2x"><i class="far fa-envelope grow"></i></i></a>
<p>Last Updated: ', format(Sys.time(), "%B %e, %Y"), '</p>
</div>
</div>')
fileConn<-file('docs/footer.html')
writeLines(footer, fileConn)
close(fileConn)
current_work = read_excel(data_file, sheet = "current_work")
is.even <- function(x) x %% 2 == 0
html = ''
for (i in 1:nrow(current_work)) {
data = current_work[i,]
#  if(!is.even(i)) {
html = paste0(html,
'<div class="row featurette">
<div class="col-md-7">
<h4 class="featurette-heading">', data$main, '. <span class="text-muted">', ifelse(is.na(data$sub), '', paste0(data$sub, '.')), '</span></h4>
<p>', data$text,
#  '<p><strong>Working with: </strong>', data$working_with, '</p>
'</div>
<div class="col-md-5">
<img class="featurette-image img-responsive center-block shadow-right" src="', data$pic, '" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
</div>
</div>'
)
if (i < nrow(current_work)) {
html = paste0(html, '<hr class="featurette-divider">')
}
fileConn<-file('docs/current_work.html')
writeLines(html, fileConn)
close(fileConn)
software = read_excel(data_file, sheet = "software") %>%
filter(!is.na(text))  %>%
mutate(pic = replace(pic, is.na(pic), "resources/images/software/R_logo.png"))
make_software = function(software, type = "Author On"){
d <- software %>%
filter(!is.na(text))  %>%
mutate(pic = replace(pic, is.na(pic), "resources/images/software/R_logo.png")) %>%
filter(role == !!type)
lapply(1:nrow(d), function(x){
paste0('<div class="row featurette">
<div class="col-md-7">
<h4 class="featurette-heading">', d$main[x], '. <span class="text-muted">',
ifelse(is.na(d$sub[x]), '', paste0(d$sub[x], '.')), '</span></h4>
<h4><span><strong> Role:</strong> ', d$role[x], '</span></h4>',
'<p>', d$text[x], '</p>',
ifelse(is.na(d$homepage[x]),'',paste0('<a class="btn btn-primary" href="', d$homepage[x] ,'" role="button">Homepage</a>')),
ifelse(is.na(d$code[x]),'',paste0('<a class="btn btn-primary" href="', d$code[x] ,'" role="button">Code</a>')),
'</p>
</div>
<div class="col-md-5">
<div class="github-card" data-github="', gsub("https://github.com/", "", d$code[x]), '" data-width="400" data-height="" data-theme="default"></div>
<script src="resources/js/widget.js"></script>
</div>
<hr class="featurette-divider">'
)
})
}
#
# make_software = function(software, type = "Author On"){
#   d <- software %>%
#     filter(!is.na(text))  %>%
#     mutate(pic = replace(pic, is.na(pic), "resources/images/software/R_logo.png")) %>%
#     filter(role == !!type)
#
#   lapply(1:nrow(d), function(x){
#     paste0('<div class="row featurette">
#       <div class="col-md-7">
#         <h4 class="featurette-heading">', d$main[x], '. <span class="text-muted">',
#         ifelse(is.na(d$sub[x]), '', paste0(d$sub[x], '.')), '</span></h4>
#         <h4><span><strong> Role:</strong> ', d$role[x], '</span></h4>',
#         '<p>', d$text[x], '</p>',
#             ifelse(is.na(d$homepage[x]),'',paste0('<a class="btn btn-primary" href="', d$homepage[x] ,'" role="button">Homepage</a>')),
#             ifelse(is.na(d$code[x]),'',paste0('<a class="btn btn-primary" href="', d$code[x] ,'" role="button">Code</a>')),
#         '</p>
#       </div>
#
#       <div class="col-md-5">
#         <img class="featurette-image img-responsive center-block shadow-right" src="', d$pic[x], '" style="width:150;height:150;" data-src="holder.js/500x500/auto" alt="Generic placeholder image"></img>
#       </div>
#      </div>
#      <hr class="featurette-divider">'
#     )
#
#   })
# }
one = make_software(software, "Author, Creator")
two = make_software(software, type = "Author On")
three = make_software(software, "Contributor To")
fileConn<-file('docs/software.html')
writeLines(paste(unlist(c(one,two,three)), collapse = " "), fileConn)
close(fileConn)
data_file
teaching = read_excel('mikes-data.xlsx', sheet = "teaching")
footer = paste0('<div class=" container">
<div class="row">
<div class="col-md-6">
<p>
üèîÔ∏èüå≤üåÑ Fort Collins, CO üåÑüå≤üèî <br />
University of California, Santa Barbara <br />
Santa Barbara, CA 93106<br />
</p>
</div>
<div class="col-md-6 text-right">
<a href="https://github.com/mikejohnson51" target="_blank" class="social-link"><i class="fab fa-github fa-2x grow"></i></a>
<a href="https://scholar.google.com/citations?hl=en&user=MrXM9cgAAAAJ&view_op=list_works&sortby=pubdate" target="_blank" class="social-link fa-2x"><i class="ai ai-google-scholar grow"></i></i></a>
<a href="https://www.researchgate.net/profile/Mike_Johnson29" target="_blank" class="social-link fa-2x"><i class="ai ai-researchgate grow"></i></a>
<a href="mailto:mike.johnson@geog.ucsb.edu" target="_blank" class="social-link fa-2x"><i class="far fa-envelope grow"></i></i></a>
<p>Last Updated: ', format(Sys.time(), "%B %e, %Y"), '</p>
</div>
</div>')
footer = paste0('<div class=" container">
<div class="row">
<div class="col-md-6">
<p>
üèîÔ∏èüå≤üåÑ Fort Collins, CO üåÑüå≤üèî <br />
University of California, Santa Barbara <br />
Santa Barbara, CA 93106<br />
</p>
</div>
<div class="col-md-6 text-right">
<a href="https://github.com/mikejohnson51" target="_blank" class="social-link"><i class="fab fa-github fa-2x grow"></i></a>
<a href="https://scholar.google.com/citations?hl=en&user=MrXM9cgAAAAJ&view_op=list_works&sortby=pubdate" target="_blank" class="social-link fa-2x"><i class="ai ai-google-scholar grow"></i></i></a>
<a href="https://www.researchgate.net/profile/Mike_Johnson29" target="_blank" class="social-link fa-2x"><i class="ai ai-researchgate grow"></i></a>
<a href="mailto:mike.johnson@geog.ucsb.edu" target="_blank" class="social-link fa-2x"><i class="far fa-envelope grow"></i></i></a>
<p>Last Updated: ', format(Sys.time(), "%B %e, %Y"), '</p>
</div>
</div>')
fileConn<-file('docs/footer.html')
writeLines(footer, fileConn)
close(fileConn)
---
title: "Website Generator"
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
dplyr::filter(variable == "aet", model == "CanESM2", scenario == "RCP45") %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
library(dplyr)
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
dplyr::filter(variable == "aet", model == "CanESM2", scenario == "RCP45") %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
library(sbtools)
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
dplyr::filter(variable == "aet", model == "CanESM2", scenario == "RCP45") %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
library(glue)
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
dplyr::filter(variable == "aet", model == "CanESM2", scenario == "RCP45") %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
x3
for(i in 1:nrow(x3)){
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
if(!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))){
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
archive::archive_extract(x3$outdir[i], dir = dirname(x3$outdir[i]))
}
message(i, " of ", nrow(x3))
}
library(httr)
for(i in 1:nrow(x3)){
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
if(!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))){
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
archive::archive_extract(x3$outdir[i], dir = dirname(x3$outdir[i]))
}
message(i, " of ", nrow(x3))
}
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
for(i in 1:nrow(x3)){
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
if(!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))){
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
archive::archive_extract(x3$outdir[i], dir = dirname(x3$outdir[i]))
}
message(i, " of ", nrow(x3))
}
i
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
archive::archive_extract(x3$outdir[i], dir = dirname(x3$outdir[i]))
for(i in 1:nrow(x3)){
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
if(!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))){
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
archive::archive_extract(x3$outdir[i], dir = dirname(x3$outdir[i]))
}
message(i, " of ", nrow(x3))
}
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
sbtools::authenticate_sb("jjohnson@lynker.com",
"Mj7-109034-lucky3410")
sbtools::authenticate_sb("jjohnson@lynker.com",
"Mj7-109034-lucky")
sbtools::authenticate_sb("jjohnson@lynker.com",
"Mj7-109034-lucky")
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
"Mj7-109034-lucky")
?sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
"Mj7-109034-lucky")
sbtools::initialize_sciencebase_session("jjohnson@lynker.com")
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",  "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDAyMjcsImlhdCI6MTcxMzUzODQyNywiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiI3YmQ1YzU2Yy04NTliLTRmMDUtOGYyYi0yNDMyMzA4ZDRiMTgiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiNGUxNTFiMzgtMzEwZS00MzkzLThmNWYtYWE2ODA3YzgyMjQ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.nhmvuP7y_IKT9w4oYyx41zjfci7EoBVW7UrSR0QdvdlwnORNq20VyN0IfKYHtp3rjizc1efHzWyyY9NogFKyEJKpMlYrAmyXJdCpUKL2O3eCQPkrwnoUWUqNeJXAqg0qIR8p6LKhre28LHV83ESVenFFepS-IJaNl9-zomSA3OYfSzrVJx7qcnRVeaxEl9GrNhioOBMNksVD48upMMYBXw8DHvSnl7m5OSgEY3L1EJX8f051LJGmKNffl7F-McFHmEsERIWC226qLsBWP-kQ9CmG0HA3O0FaK0PnZ-XtSRL4es9RI8mywzbGx71AgwZOmiI75xvKB_MK6eeNKqpbKQ")
sbtools::initialize_sciencebase_session("jjohnson@lynker.com")
for(i in 1:nrow(x3)){
y = stringr::str_match(x3$decade[i], 'wy\\s*(.*?)\\s*_')[,2]
if(!file.exists( glue("{dirname(x3$outdir[i])}/{x3$variable[i]}{y}jan.asc"))){
dir.create(dirname(x3$outdir[i]), showWarnings = FALSE, recursive = TRUE)
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
archive::archive_extract(x3$outdir[i], dir = dirname(x3$outdir[i]))
}
message(i, " of ", nrow(x3))
}
x3
i
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
sbtools::initialize_sciencebase_session("jjohnson@lynker.com")
GET(x3$s3[i], write_disk(x3$outdir[i], overwrite = TRUE), progress())
library(httr)
library(dplyr)
library(sbtools)
library(glue)
library(httr)
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDAyMjcsImlhdCI6MTcxMzUzODQyNywiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiI3YmQ1YzU2Yy04NTliLTRmMDUtOGYyYi0yNDMyMzA4ZDRiMTgiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiNGUxNTFiMzgtMzEwZS00MzkzLThmNWYtYWE2ODA3YzgyMjQ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.nhmvuP7y_IKT9w4oYyx41zjfci7EoBVW7UrSR0QdvdlwnORNq20VyN0IfKYHtp3rjizc1efHzWyyY9NogFKyEJKpMlYrAmyXJdCpUKL2O3eCQPkrwnoUWUqNeJXAqg0qIR8p6LKhre28LHV83ESVenFFepS-IJaNl9-zomSA3OYfSzrVJx7qcnRVeaxEl9GrNhioOBMNksVD48upMMYBXw8DHvSnl7m5OSgEY3L1EJX8f051LJGmKNffl7F-McFHmEsERIWC226qLsBWP-kQ9CmG0HA3O0FaK0PnZ-XtSRL4es9RI8mywzbGx71AgwZOmiI75xvKB_MK6eeNKqpbKQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NDIzODcsImlhdCI6MTcxMzUzODQyNywianRpIjoiZDljYjFiMWEtYThiMy00ZDI1LWFjMjAtMDgwODliNGI5YjBjIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6IjRlMTUxYjM4LTMxMGUtNDM5My04ZjVmLWFhNjgwN2M4MjI0NyIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.TCtQi8NKYaU8txfVcIVnj-WeWdVpyb4NzW6Ir79bp8M"}')
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
,
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
x3
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE) %>%
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2]) %>%
mutate(s3 = glue("https://prod-is-usgs-sb-prod-publish.s3.amazonaws.com/{fid}/{fname}")) %>%
mutate(outdir = glue("/Volumes/MyBook/TNC/CABCM/{model}/{scenario}/{variable}/{fname}"),
year = stringr::str_match(decade, 'wy\\s*(.*?)\\s*_')[,2]) %>%
filter(between(as.numeric(year), 1970, 2020)) %>%
arrange(year)
item_list_files
?item_list_files
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE, fetch_cloud_urls = FALSE)
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDAyMjcsImlhdCI6MTcxMzUzODQyNywiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiI3YmQ1YzU2Yy04NTliLTRmMDUtOGYyYi0yNDMyMzA4ZDRiMTgiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiNGUxNTFiMzgtMzEwZS00MzkzLThmNWYtYWE2ODA3YzgyMjQ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.nhmvuP7y_IKT9w4oYyx41zjfci7EoBVW7UrSR0QdvdlwnORNq20VyN0IfKYHtp3rjizc1efHzWyyY9NogFKyEJKpMlYrAmyXJdCpUKL2O3eCQPkrwnoUWUqNeJXAqg0qIR8p6LKhre28LHV83ESVenFFepS-IJaNl9-zomSA3OYfSzrVJx7qcnRVeaxEl9GrNhioOBMNksVD48upMMYBXw8DHvSnl7m5OSgEY3L1EJX8f051LJGmKNffl7F-McFHmEsERIWC226qLsBWP-kQ9CmG0HA3O0FaK0PnZ-XtSRL4es9RI8mywzbGx71AgwZOmiI75xvKB_MK6eeNKqpbKQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NDIzODcsImlhdCI6MTcxMzUzODQyNywianRpIjoiZDljYjFiMWEtYThiMy00ZDI1LWFjMjAtMDgwODliNGI5YjBjIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6IjRlMTUxYjM4LTMxMGUtNDM5My04ZjVmLWFhNjgwN2M4MjI0NyIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.TCtQi8NKYaU8txfVcIVnj-WeWdVpyb4NzW6Ir79bp8M"}')
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE, fetch_cloud_urls = FALSE)
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDAyMjcsImlhdCI6MTcxMzUzODQyNywiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiI3YmQ1YzU2Yy04NTliLTRmMDUtOGYyYi0yNDMyMzA4ZDRiMTgiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiNGUxNTFiMzgtMzEwZS00MzkzLThmNWYtYWE2ODA3YzgyMjQ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.nhmvuP7y_IKT9w4oYyx41zjfci7EoBVW7UrSR0QdvdlwnORNq20VyN0IfKYHtp3rjizc1efHzWyyY9NogFKyEJKpMlYrAmyXJdCpUKL2O3eCQPkrwnoUWUqNeJXAqg0qIR8p6LKhre28LHV83ESVenFFepS-IJaNl9-zomSA3OYfSzrVJx7qcnRVeaxEl9GrNhioOBMNksVD48upMMYBXw8DHvSnl7m5OSgEY3L1EJX8f051LJGmKNffl7F-McFHmEsERIWC226qLsBWP-kQ9CmG0HA3O0FaK0PnZ-XtSRL4es9RI8mywzbGx71AgwZOmiI75xvKB_MK6eeNKqpbKQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NDIzODcsImlhdCI6MTcxMzUzODQyNywianRpIjoiZDljYjFiMWEtYThiMy00ZDI1LWFjMjAtMDgwODliNGI5YjBjIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6IjRlMTUxYjM4LTMxMGUtNDM5My04ZjVmLWFhNjgwN2M4MjI0NyIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.TCtQi8NKYaU8txfVcIVnj-WeWdVpyb4NzW6Ir79bp8M"}')
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE, fetch_cloud_urls = FALSE)
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDgwNDEsImlhdCI6MTcxMzU0NjI0MSwiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiIwMTgyNGUzYi04NWUyLTQyMDQtOThhOS0wZjg3ZDlmNzk5YmQiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiY2M3ODMxYjktZWEyNS00NTJhLThhZmUtYzlkMzQ4MjI2MWQxIiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.VZ2ue1nNznUZfcsFjhfZ3UJauoeIonm3wmXUnRkRM1MzZODx49yK2MNtTtq9jIYa4SrFG_8CAVXL_84IJB58-hz_y7z7_KtCL0dED1KOtlwZ6fbqPt5D301HeeFu8GMrgBcktd_b6kH2KZd5DX0P1yTiQIpYYQS7HhW_dl9f4ilYC70wHSLC5pmxd5gF1xKWxLx5Z38yM4zGcjyXWFq3h6uCPov3jdta1xTBD1A25e3NrGMigqkWuX7QIkCZ27rOwNnQKQKofTvplBEFWQ4KEhMixTrtIEkzwuWK2mkxLjB9nOeQXurr0MpjfcSQxn0bIxG0BpiwRq0ymJQOr9XWbQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NTAyMDEsImlhdCI6MTcxMzU0NjI0MSwianRpIjoiODc0ZWZmZjYtNmY2Mi00OWQ2LWEwNzYtOWNkYjZiMTI1OGFmIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6ImNjNzgzMWI5LWVhMjUtNDUyYS04YWZlLWM5ZDM0ODIyNjFkMSIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.XrGeOTplNwkNejU1rdXM83TnMy9c-t4vNvIWoWY4BZA"})
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDgwNDEsImlhdCI6MTcxMzU0NjI0MSwiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiIwMTgyNGUzYi04NWUyLTQyMDQtOThhOS0wZjg3ZDlmNzk5YmQiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiY2M3ODMxYjktZWEyNS00NTJhLThhZmUtYzlkMzQ4MjI2MWQxIiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.VZ2ue1nNznUZfcsFjhfZ3UJauoeIonm3wmXUnRkRM1MzZODx49yK2MNtTtq9jIYa4SrFG_8CAVXL_84IJB58-hz_y7z7_KtCL0dED1KOtlwZ6fbqPt5D301HeeFu8GMrgBcktd_b6kH2KZd5DX0P1yTiQIpYYQS7HhW_dl9f4ilYC70wHSLC5pmxd5gF1xKWxLx5Z38yM4zGcjyXWFq3h6uCPov3jdta1xTBD1A25e3NrGMigqkWuX7QIkCZ27rOwNnQKQKofTvplBEFWQ4KEhMixTrtIEkzwuWK2mkxLjB9nOeQXurr0MpjfcSQxn0bIxG0BpiwRq0ymJQOr9XWbQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NTAyMDEsImlhdCI6MTcxMzU0NjI0MSwianRpIjoiODc0ZWZmZjYtNmY2Mi00OWQ2LWEwNzYtOWNkYjZiMTI1OGFmIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6ImNjNzgzMWI5LWVhMjUtNDUyYS04YWZlLWM5ZDM0ODIyNjFkMSIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.XrGeOTplNwkNejU1rdXM83TnMy9c-t4vNvIWoWY4BZA"}')
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE, fetch_cloud_urls = FALSE)
x3
select(fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2])
x4 = select(x3, fname, url) %>%
filter(grepl("_wy", fname)) %>%
filter(!grepl('wys.zip', fname)) %>%
tidyr::separate(fname, into = c("variable", "model", "scenario", 'decade'), sep =  "_", extra = "merge", remove = FALSE) %>%
mutate(fid = stringr::str_match(url, "item/\\s*(.*?)\\s*/file/")[,2])
x4
x5 = item_list_files(item_get('655012cad34ee4b6e05c341d'), recursive = TRUE, fetch_cloud_urls = TRUE)
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDgwNDEsImlhdCI6MTcxMzU0NjI0MSwiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiIwMTgyNGUzYi04NWUyLTQyMDQtOThhOS0wZjg3ZDlmNzk5YmQiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiY2M3ODMxYjktZWEyNS00NTJhLThhZmUtYzlkMzQ4MjI2MWQxIiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.VZ2ue1nNznUZfcsFjhfZ3UJauoeIonm3wmXUnRkRM1MzZODx49yK2MNtTtq9jIYa4SrFG_8CAVXL_84IJB58-hz_y7z7_KtCL0dED1KOtlwZ6fbqPt5D301HeeFu8GMrgBcktd_b6kH2KZd5DX0P1yTiQIpYYQS7HhW_dl9f4ilYC70wHSLC5pmxd5gF1xKWxLx5Z38yM4zGcjyXWFq3h6uCPov3jdta1xTBD1A25e3NrGMigqkWuX7QIkCZ27rOwNnQKQKofTvplBEFWQ4KEhMixTrtIEkzwuWK2mkxLjB9nOeQXurr0MpjfcSQxn0bIxG0BpiwRq0ymJQOr9XWbQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NTAyMDEsImlhdCI6MTcxMzU0NjI0MSwianRpIjoiODc0ZWZmZjYtNmY2Mi00OWQ2LWEwNzYtOWNkYjZiMTI1OGFmIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6ImNjNzgzMWI5LWVhMjUtNDUyYS04YWZlLWM5ZDM0ODIyNjFkMSIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.XrGeOTplNwkNejU1rdXM83TnMy9c-t4vNvIWoWY4BZA"}')
x5 = item_list_files(item_get('655012cad34ee4b6e05c341d'), recursive = TRUE, fetch_cloud_urls = TRUE)
item_get('655012cad34ee4b6e05c341d')
W
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDgwNDEsImlhdCI6MTcxMzU0NjI0MSwiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiIwMTgyNGUzYi04NWUyLTQyMDQtOThhOS0wZjg3ZDlmNzk5YmQiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiY2M3ODMxYjktZWEyNS00NTJhLThhZmUtYzlkMzQ4MjI2MWQxIiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.VZ2ue1nNznUZfcsFjhfZ3UJauoeIonm3wmXUnRkRM1MzZODx49yK2MNtTtq9jIYa4SrFG_8CAVXL_84IJB58-hz_y7z7_KtCL0dED1KOtlwZ6fbqPt5D301HeeFu8GMrgBcktd_b6kH2KZd5DX0P1yTiQIpYYQS7HhW_dl9f4ilYC70wHSLC5pmxd5gF1xKWxLx5Z38yM4zGcjyXWFq3h6uCPov3jdta1xTBD1A25e3NrGMigqkWuX7QIkCZ27rOwNnQKQKofTvplBEFWQ4KEhMixTrtIEkzwuWK2mkxLjB9nOeQXurr0MpjfcSQxn0bIxG0BpiwRq0ymJQOr9XWbQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NTAyMDEsImlhdCI6MTcxMzU0NjI0MSwianRpIjoiODc0ZWZmZjYtNmY2Mi00OWQ2LWEwNzYtOWNkYjZiMTI1OGFmIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6ImNjNzgzMWI5LWVhMjUtNDUyYS04YWZlLWM5ZDM0ODIyNjFkMSIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.XrGeOTplNwkNejU1rdXM83TnMy9c-t4vNvIWoWY4BZA"}')
x5 = item_list_files('655012cad34ee4b6e05c341d', recursive = TRUE, fetch_cloud_urls = TRUE)
sb_item('655012cad34ee4b6e05c341d')
library(sbtools)
sbtools;:item_get('655012cad34ee4b6e05c341d')
item_get('655012cad34ee4b6e05c341d')
sbtools::initialize_sciencebase_session("jjohnson@lynker.com",
'{"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJCMWJfZFBNR3BWY09hT253dU0zQThnSGF2Mzd5U1Y0OXJaLUZ2U2gtaXRNIn0.eyJleHAiOjE3MTM1NDgwNDEsImlhdCI6MTcxMzU0NjI0MSwiYXV0aF90aW1lIjoxNzEzNTM4MjU2LCJqdGkiOiIwMTgyNGUzYi04NWUyLTQyMDQtOThhOS0wZjg3ZDlmNzk5YmQiLCJpc3MiOiJodHRwczovL3d3dy5zY2llbmNlYmFzZS5nb3YvYXV0aC9yZWFsbXMvU2NpZW5jZUJhc2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY2F0YWxvZyIsIm5vbmNlIjoiY2M3ODMxYjktZWEyNS00NTJhLThhZmUtYzlkMzQ4MjI2MWQxIiwic2Vzc2lvbl9zdGF0ZSI6IjMzYzIyMWMzLThiNjYtNDA1NC05MmIxLTUwOTAxYjY2OGM4OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L3VwbG9hZCIsImh0dHBzOi8vYXBpLnNjaWVuY2ViYXNlLmdvdi8qIiwiKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvZGlyZWN0b3J5IiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cDovL2xvY2FsaG9zdDo0MDAwLyoiLCJodHRwczovL2Rldi1zY2llbmNlYmFzZS51c2dzLmdvdiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YiLCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL3NjaWVuY2ViYXNlLmdvdiIsImh0dHBzOi8vd3d3LnNjaWVuY2ViYXNlLmdvdi9jYXRhbG9nIiwiaHR0cDovL2xvY2FsaG9zdDo4MDkwIiwiaHR0cDovL2xvY2FsaG9zdDo4MDg4LyoiLCJodHRwczovL2JldGEuc3RhZ2luZy5zY2llbmNlYmFzZS5nb3YvKiIsImh0dHBzOi8vYmV0YS5zY2llbmNlYmFzZS5nb3YvdXBsb2FkIiwiaHR0cHM6Ly9iZXRhLnNjaWVuY2ViYXNlLmdvdi92b2NhYiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWlrZSBKb2huc29uIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiampvaG5zb25AbHlua2VyLmNvbSIsImdpdmVuX25hbWUiOiJNaWtlIiwiZmFtaWx5X25hbWUiOiJKb2huc29uIiwiZW1haWwiOiJqam9obnNvbkBseW5rZXIuY29tIn0.VZ2ue1nNznUZfcsFjhfZ3UJauoeIonm3wmXUnRkRM1MzZODx49yK2MNtTtq9jIYa4SrFG_8CAVXL_84IJB58-hz_y7z7_KtCL0dED1KOtlwZ6fbqPt5D301HeeFu8GMrgBcktd_b6kH2KZd5DX0P1yTiQIpYYQS7HhW_dl9f4ilYC70wHSLC5pmxd5gF1xKWxLx5Z38yM4zGcjyXWFq3h6uCPov3jdta1xTBD1A25e3NrGMigqkWuX7QIkCZ27rOwNnQKQKofTvplBEFWQ4KEhMixTrtIEkzwuWK2mkxLjB9nOeQXurr0MpjfcSQxn0bIxG0BpiwRq0ymJQOr9XWbQ", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkMmMyMmZmMy1mZjIxLTQ4NjQtYjJlMS04NTQ1ZWJlNmU0NjkifQ.eyJleHAiOjE3MTM1NTAyMDEsImlhdCI6MTcxMzU0NjI0MSwianRpIjoiODc0ZWZmZjYtNmY2Mi00OWQ2LWEwNzYtOWNkYjZiMTI1OGFmIiwiaXNzIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwiYXVkIjoiaHR0cHM6Ly93d3cuc2NpZW5jZWJhc2UuZ292L2F1dGgvcmVhbG1zL1NjaWVuY2VCYXNlIiwic3ViIjoiZTg4ZDU2MmUtN2MyYy00YzY1LTljMTYtMDNiZjI0OTVkYWYzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImNhdGFsb2ciLCJub25jZSI6ImNjNzgzMWI5LWVhMjUtNDUyYS04YWZlLWM5ZDM0ODIyNjFkMSIsInNlc3Npb25fc3RhdGUiOiIzM2MyMjFjMy04YjY2LTQwNTQtOTJiMS01MDkwMWI2NjhjODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.XrGeOTplNwkNejU1rdXM83TnMy9c-t4vNvIWoWY4BZA"}')
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE, fetch_cloud_urls = FALSE)
x3 = item_list_files(item_get('61e069f3d34e8911d9fe9dba'), recursive = TRUE)
